<div class="core-mapping animate-slideIn" data-core-index="<%= core_index %>">
  <div class="core-mapping-header">
    <span>Core Type <%= core_index.to_i + 1 %></span>
  </div>
  
  <div class="core-config-grid">
    <div class="form-group">
      <label class="form-label">Core Name <span class="text-red-500">*</span></label>
      <input type="text" 
             name="ip_configurations[<%= ip_type %>][core_mappings][<%= core_index %>][core]"
             class="form-input"
             placeholder="e.g., core_a">
    </div>
    
    <div class="form-group">
      <label class="form-label">Core Count <span class="text-red-500">*</span></label>
      <input type="text" 
             name="ip_configurations[<%= ip_type %>][core_mappings][<%= core_index %>][core_count]"
             class="form-input"
             placeholder="e.g., 4">
    </div>
    
    <div class="form-group">
      <label class="form-label">Supply Name <span class="text-red-500">*</span></label>
      <div class="tooltip">
        <input type="text" 
               name="ip_configurations[<%= ip_type %>][core_mappings][<%= core_index %>][supply]"
               class="form-input"
               placeholder="e.g., VDD"
               data-supply-field="true"
               data-core-index="<%= core_index %>">
        <span class="tooltip-content">This value can be used in production/charz parameters</span>
      </div>
    </div>
    
    <div class="form-group">
      <label class="form-label">Clock <span class="text-red-500">*</span></label>
      <input type="text" 
             name="ip_configurations[<%= ip_type %>][core_mappings][<%= core_index %>][clock]"
             class="form-input"
             placeholder="e.g., CLK">
    </div>

    <div class="form-group">
      <label class="form-label">Frequency <span class="text-red-500">*</span></label>
      <div class="tooltip">
        <input type="text" 
              name="ip_configurations[<%= ip_type %>][core_mappings][<%= core_index %>][frequency]"
              class="form-input"
              placeholder="e.g., 1000"
              data-frequency-field="true"
              data-core-index="<%= core_index %>">
        <span class="tooltip-content">This value can be used in production parameters</span>
      </div>
    </div>

  </div>
  
  <div class="spacer-md"></div>
  
  <!-- Production Parameters Toggle -->
  <div class="collapsible-section" data-section-type="production">
    <div class="collapsible-header" 
        #  data-action="click->ip-configuration#toggleCollapsible"
         data-core-index="<%= core_index %>"
         data-section-name="production">
      <input type="checkbox" 
             name="ip_configurations[<%= ip_type %>][show_production_for_core][<%= core_index %>]"
             class="sr-only"
             data-production-checkbox="<%= core_index %>">
      <span class="toggle-label">Production Parameters</span>
      <svg class="collapsible-icon w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
      </svg>
    </div>
    
    <div class="collapsible-content" data-production-section="<%= core_index %>">
      <%= render 'production_parameters', ip_type: ip_type, core_index: core_index %>
    </div>
  </div>
  
  <!-- Charz Parameters Toggle -->
  <div class="collapsible-section" data-section-type="charz">
    <div class="collapsible-header"
        #  data-action="click->ip-configuration#toggleCollapsible"
         data-core-index="<%= core_index %>"
         data-section-name="charz">
      <input type="checkbox" 
             name="ip_configurations[<%= ip_type %>][show_charz_for_core][<%= core_index %>]"
             class="sr-only"
             data-charz-checkbox="<%= core_index %>">
      <span class="toggle-label">Charz Parameters</span>
      <svg class="collapsible-icon w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
      </svg>
    </div>
    
    <div class="collapsible-content" data-charz-section="<%= core_index %>">
      <%= render 'charz_parameters', ip_type: ip_type, core_index: core_index %>
    </div>
  </div>
</div>
